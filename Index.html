<!DOCTYPE html>
<html lang="es">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">


</head>

<body>

    <header class="header"> <!-- Encabezado de la página -->

        <div class="header-1"> <!-- Primera sección del encabezado -->

            <a href="Index.html" class="logo"> <i class="fas fa-star"></i> ORION </a>

            <nav class="navbar"> <!-- Menú de navegación -->
                <a href="#">Biblioteca</a>
                <a href="#">Comunidad</a>
                <a href="#">Explorar</a>
            </nav>

            <form action="" class="search-form"> <!-- Cuadro de búsqueda -->
                <input type="search" name="" placeholder="Buscar" id="search-box">
                <label for="search-box" class="fas fa-search"> </label>
            </form>

            <div class="icons"> <!-- Iconos de acción -->
                <div id="search-btn" class="fas fa-search"></div>
                <a href="#" id="bell-btn" class="fas fa-bell"></a>
                <a href="#" class="fas fa-shopping-cart"></a>
                <div id="login-btn" class="fas fa-user"></div>
            </div>

            <audio id="bell-audio" src="sonidonotificacion.mp3"></audio>
    
        </div>

        <div class="header-2"> <!-- Segunda sección del encabezado -->
            <nav class="navbar"> <!-- Menú de navegación -->
                <a href="#" class="menu"> <i class="fas fa-bars"></i> Todas las categorías</a>
                <a href="#">E-books</a>
                <a href="#">Audio-books</a>
                <a href="#">Ficción</a>
                <a href="#">No ficción</a>
                <a href="#">Educación</a>
                <a href="#">Lo más leído</a>
            </nav>

        </div>

    </header>

    <section class="banner">

        <div class="banner-carousel-container">
            <div class="banner-carousel-slide">
              <h2>Viajes en el tiempo</h2>
              <p>Doctor Who: The Runaway TARDIS</p>
                <a href="Detalles.html"><img src="images/banner1.png" alt="Slide 1"></a>
            </div>
        
            <div class="banner-carousel-slide">
              <h2>Fantasia</h2>
              <p>The Book of the Monsters</p>
                <a href="#"><img src="images/banner2.png" alt="Slide 2"></a>
            </div>
        
            <div class="banner-carousel-slide">
              <h2>Viajes en el tiempo</h2>
              <p>Back to the Future</p>
              <a href="#"><img src="images/banner3.png" alt="Slide 3"></a>
            </div>
        
            <div class="banner-carousel-indicators">
                <button class="indicator" onclick="currentSlide(1)"></button>
                <button class="indicator" onclick="currentSlide(2)"></button>
                <button class="indicator" onclick="currentSlide(3)"></button>
            </div>
        </div>

        <section class="catalogo">

            <div class="titulos"> <h2>Infantil</h2> <p> ¡Descubre un mundo de aventuras para los más pequeños! </p> </div> <!-- Descripción -->
    
            <div class="wrapper">
    
                <i id="left" class="fa-solid fa-angle-left"></i>
                
                    <ul class="carouselibros">
    
                        <li class="card">
                            <a href="Detalles.html">
                                <div class="img"><img src="images/libro1.jpg" alt="img" draggable="false"></div>
                            </a>
                            <h3>Doctor Who: The <br>Runaway TARDIS</h3>
                            <p>de Kim Smith</p>
    
                                <p>
                                    <span class="rating">4.7</span>
                                    <span class="stars">★★★★★</span>
                                </p>
    
                            <span>$185.99</span>
                        </li>
    
                        <li class="card">
                            <div class="img"><img src="images/libro2.jpg" alt="img" draggable="false"></div>
                            <h3>Home Alone: <br>The Classic</h3>
                            <p>de Kim Smith</p>
    
                                <p>
                                    <span class="rating">4.9</span>
                                    <span class="stars">★★★★★</span>
                                </p>
    
                            <span>$199.99</span>
                        </li>
    
                        <li class="card">
                            <div class="img"><img src="images/libro3.jpg" alt="img" draggable="false"></div>
                            <h3>Buffy the Vampire Slayer <br>A Picture Book: 5</h3>
                            <p>de Kim Smith</p>
    
                                <p>
                                    <span class="rating">4.9</span>
                                    <span class="stars">★★★★★</span>
                                </p>
    
                            <span>$174.99</span>
                        </li>
                        
                        <li class="card">
                            <div class="img"><img src="images/libro4.jpg" alt="img" draggable="false"></div>
                            <h3>Back to the <br>Future</h3>
                            <p>de Kim Smith</p>
    
                                <p>
                                    <span class="rating">4.9</span>
                                    <span class="stars">★★★★★</span>
                                </p>
    
                            <span>$174.99</span>
                        </li>
                        
                        <li class="card">
                            <div class="img"><img src="images/libro5.jpg" alt="img" draggable="false"></div>
                            <h3>School of Rock: The<br>Classic Illustrated Storybook</h3>
                            <p>de Kim Smith</p>
    
                                <p>
                                    <span class="rating">4.6</span>
                                    <span class="stars">★★★★★</span>
                                </p>
    
                            <span>$174.99</span>
                        </li>
    
                        <li class="card">
                            <div class="img"><img src="images/libro6.jpg" alt="img" draggable="false"></div>
                            <h3>Home Alone 2: <br>Lost in New York</h3>
                            <p>de Kim Smith</p>
    
                                <p>
                                    <span class="rating">4.9</span>
                                    <span class="stars">★★★★★</span>
                                </p>
    
                            <span>$199.99</span>
                        </li>
    
                    </ul>
    
                <i id="right" class="fa-solid fa-angle-right"></i>
            
            </div>
    
    </section>

    <footer class="section__container footer__container"> <!-- Pie de página -->
        <span class="bg__blur"></span>
        <span class="bg__blur footer__blur"></span>
        
        <div class="footer__col">
            <a href="#" class="logo"> <i class="fas fa-star"></i> ORION </a>
                        
                <p>© 2024 ORION es marca registrada de ORION en México y otros países.</p>
                <div class="footer__socials">
                <a href="#"><i class="ri-facebook-fill"></i></a>
                <a href="#"><i class="ri-instagram-line"></i></a>
                <a href="#"><i class="ri-twitter-fill"></i></a>
            </div>
        </div>

        <div class="footer__col"> <!-- Enlaces de navegación -->
          <h4>Novedades</h4>
          <a href="#">Últimas noticias</a>
          <a href="#">Foros</a>
          <a href="#">Portal de la comunidad</a>
        </div>
        <div class="footer__col">
          <h4>Compañía</h4>
          <a href="Contacto.html">Contacto</a>
          <a href="#">Acerca de ORION</a>
          <a href="#">Términos & Condiciones</a>
        </div>
        <div class="footer__col">
          <h4>Soporte</h4>
          <a href="#">Facturación</a>
          <a href="#">Soporte de compra</a>
          <a href="#">Soporte técnico</a>
        </div>
      </footer>

      <script>

        // Carrousel banner de lo más destacado 
            let slideIndex = 0;
            showSlides();

            function showSlides() {
            const slides = document.getElementsByClassName("banner-carousel-slide");
            const indicators = document.getElementsByClassName("indicator");
            
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            
            slideIndex++;
            
            if (slideIndex > slides.length) {
                slideIndex = 1;
            }
            
            for (let i = 0; i < indicators.length; i++) {
                indicators[i].className = indicators[i].className.replace("active", "");
            }
            
            slides[slideIndex - 1].style.display = "block";
            indicators[slideIndex - 1].className += " active";
            
            setTimeout(showSlides, 4000); // La transición se hace cada 4 segundos automáticamente
            }

            function currentSlide(n) {
            showSlides(slideIndex = n);
            }


                // Carrousel de libros por categoría

                const wrapper = document.querySelector(".wrapper");
                const carouselibros = document.querySelector(".carouselibros");
                const firstCardWidth = carouselibros.querySelector(".card").offsetWidth;
                const arrowBtns = document.querySelectorAll(".wrapper i");
                const carouselibrosChildrens = [...carouselibros.children];

                let isDragging = false, isAutoPlay = true, startX, startScrollLeft, timeoutId;

                let cardPerView = Math.round(carouselibros.offsetWidth / firstCardWidth);

                // Insertar copias de las últimas cartas al principio de carouselibros para desplazamiento infinito
                carouselibrosChildrens.slice(-cardPerView).reverse().forEach(card => {
                    carouselibros.insertAdjacentHTML("afterbegin", card.outerHTML);
                });

                // Insertar copias de las primeras cartas al final de carouselibros para desplazamiento infinito
                carouselibrosChildrens.slice(0, cardPerView).forEach(card => {
                    carouselibros.insertAdjacentHTML("beforeend", card.outerHTML);
                });

                // Desplaza el carouselibros en la posición adecuada para ocultar las primeras tarjetas duplicadas en Firefox
                carouselibros.classList.add("no-transition");
                carouselibros.scrollLeft = carouselibros.offsetWidth;
                carouselibros.classList.remove("no-transition");

                // Añadir oyentes de eventos para los botones de flecha para desplazar el carouselibros izquierda y derecha
                arrowBtns.forEach(btn => {
                    btn.addEventListener("click", () => {
                        carouselibros.scrollLeft += btn.id == "left" ? -firstCardWidth : firstCardWidth;
                    });
                });

                const dragStart = (e) => {
                    isDragging = true;
                    carouselibros.classList.add("dragging");
                    // Registra el cursor inicial y la posición de desplazamiento del carouselibros
                    startX = e.pageX;
                    startScrollLeft = carouselibros.scrollLeft;
                }

                const dragging = (e) => {
                    if(!isDragging) return; //Sí isDragging es falso volver desde aquí
                    // Actualiza la posición de desplazamiento del carouselibros en función del movimiento del cursor
                    carouselibros.scrollLeft = startScrollLeft - (e.pageX - startX);
                }

                const dragStop = () => {
                    isDragging = false;
                    carouselibros.classList.remove("dragging");
                }

                const infiniteScroll = () => {
                    // Si el carruselibros está al principio, va hasta el final
                    if(carouselibros.scrollLeft === 0) {
                        carouselibros.classList.add("no-transition");
                        carouselibros.scrollLeft = carouselibros.scrollWidth - (2 * carouselibros.offsetWidth);
                        carouselibros.classList.remove("no-transition");
                    }
                    // Si el carruselibros está al final, desplácese al principio
                    else if(Math.ceil(carouselibros.scrollLeft) === carouselibros.scrollWidth - carouselibros.offsetWidth) {
                        carouselibros.classList.add("no-transition");
                        carouselibros.scrollLeft = carouselibros.offsetWidth;
                        carouselibros.classList.remove("no-transition");
                    }

                    // Borrar el tiempo de espera existente y comenzar la reproducción automática si el ratón no se cierne sobre carouselibros
                    clearTimeout(timeoutId);
                    if(!wrapper.matches(":hover")) autoPlay();
                }

                const autoPlay = () => {
                    if(window.innerWidth < 800 || !isAutoPlay) return; // Devuelve si la ventana es menor que 800 o isAutoPlay es falso
                    // Autoplay el carouselibros después de cada 2500 ms
                    timeoutId = setTimeout(() => carouselibros.scrollLeft += firstCardWidth, 2500);
                }
                autoPlay();

                carouselibros.addEventListener("mousedown", dragStart);
                carouselibros.addEventListener("mousemove", dragging);
                document.addEventListener("mouseup", dragStop);
                carouselibros.addEventListener("scroll", infiniteScroll);
                wrapper.addEventListener("mouseenter", () => clearTimeout(timeoutId));
                wrapper.addEventListener("mouseleave", autoPlay);


                // Audio al presionar icon de notificación
                document.getElementById('bell-btn').addEventListener('click', function() {
                    var audio = document.getElementById('bell-audio');
                    audio.play();
                });
    
      </script>
     

</body>

</html>



